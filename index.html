<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>太极旋转</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f0f2f5;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .taiji-container {
            width: 300px;
            height: 300px;
            margin-bottom: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #taiji {
            width: 100%;
            height: 100%;
            transform: rotate(0deg);
        }

        .controls {
            display: flex;
            gap: 15px;
        }

        button {
            padding: 12px 25px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: bold;
            min-width: 80px;
        }

        #startBtn {
            background-color: #333;
            color: white;
        }
        #startBtn:hover {
            background-color: #000;
        }

        #pauseBtn {
            background-color: #ff9800;
            color: white;
        }
        #pauseBtn:hover {
            background-color: #f57c00;
        }

        #stopBtn {
            background-color: #f44336;
            color: white;
        }
        #stopBtn:hover {
            background-color: #d32f2f;
        }
        
        button:disabled {
            background-color: #e0e0e0;
            color: #999;
            cursor: not-allowed;
            transform: none !important;
        }

        button:active:not(:disabled) {
            transform: translateY(2px);
        }
        button:hover:not(:disabled) {
            transform: translateY(-2px);
        }

        .status {
            margin-top: 20px;
            color: #666;
            font-size: 14px;
            height: 20px;
        }

        .header-text {
            text-align: center;
            margin-bottom: 25px;
        }

        .main-title {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
        }

        .sub-title {
            font-size: 16px;
            color: #666;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header-text">
        <div class="main-title">你会看到神奇的现象</div>
        <div class="sub-title">速度达到360时，就会时来运转</div>
    </div>

    <div class="taiji-container">
        <!-- SVG 太极图 -->
        <svg id="taiji" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
            <circle cx="100" cy="100" r="100" fill="white" stroke="#333" stroke-width="1"/>
            <path d="M 100 0 A 100 100 0 0 1 100 200 Z" fill="black"/>
            <circle cx="100" cy="50" r="50" fill="white"/>
            <circle cx="100" cy="150" r="50" fill="black"/>
            <circle cx="100" cy="50" r="12.5" fill="black"/>
            <circle cx="100" cy="150" r="12.5" fill="white"/>
        </svg>
    </div>

    <div class="controls">
        <button id="startBtn">Start</button>
        <button id="pauseBtn" disabled>Pause</button>
        <button id="stopBtn" disabled>Stop</button>
    </div>
    
    <div class="status" id="statusText">当前速度: 0</div>
</div>

<script>
    const taiji = document.getElementById('taiji');
    const startBtn = document.getElementById('startBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const stopBtn = document.getElementById('stopBtn');
    const statusText = document.getElementById('statusText');

    let animationId = null;
    let angle = 0;
    let speed = 0;
    let isRunning = false;
    let isPaused = false;
    
    // 加速度
    const ACCELERATION = 0.05; 

    function animate() {
        if (!isRunning) return;

        // 如果是暂停状态，不执行旋转更新和速度增加
        if (isPaused) {
            // 保持 requestAnimationFrame 循环，以便随时恢复
            // 但不更新 angle 和 speed
            animationId = requestAnimationFrame(animate);
            return;
        }

        // 增加速度
        speed += ACCELERATION;
        
        // 更新角度
        angle += speed;
        taiji.style.transform = `rotate(${angle}deg)`;
        
        // 更新状态显示
        statusText.textContent = `当前速度: ${speed.toFixed(2)} (加速中)`;

        animationId = requestAnimationFrame(animate);
    }

    startBtn.addEventListener('click', () => {
        // Start 只有在完全停止的状态下才有效
        if (isRunning) return;
        
        isRunning = true;
        isPaused = false;
        
        // UI 更新
        startBtn.disabled = true;
        pauseBtn.disabled = false;
        stopBtn.disabled = false;
        pauseBtn.textContent = "Pause";
        
        // 只有 Start 会重置速度为 0
        speed = 0; 
        
        animate();
    });

    pauseBtn.addEventListener('click', () => {
        if (!isRunning) return;
        
        // 切换 Pause / Go 状态
        isPaused = !isPaused;
        
        if (isPaused) {
            // 变成 "暂停" 状态，画面静止
            pauseBtn.textContent = "Go";
            statusText.textContent = `当前速度: ${speed.toFixed(2)} (已暂停)`;
        } else {
            // 恢复 "加速" 状态
            pauseBtn.textContent = "Pause";
            // 恢复时，requestAnimationFrame 会在下一次循环继续执行 animate 的逻辑
        }
    });

    stopBtn.addEventListener('click', () => {
        isRunning = false;
        isPaused = false;
        
        // 停止动画循环
        if (animationId) {
            cancelAnimationFrame(animationId);
            animationId = null;
        }
        
        // UI 更新
        startBtn.disabled = false;
        pauseBtn.disabled = true;
        stopBtn.disabled = true;
        pauseBtn.textContent = "Pause"; // 重置按钮文本
        
        // 业务逻辑：速度归零
        speed = 0;
        statusText.textContent = `当前速度: 0 (已停止)`;
        
        // 画面停留在当前角度，不再旋转
    });
</script>

</body>
</html>
